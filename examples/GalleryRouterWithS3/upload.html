<!DOCTYPE html>
<html>
<head>
	<title>upload test</title>
</head>
<script>
	function onSubmit() {
		var fileInput = document.getElementById("fileInput");

		var formData = new FormData();

		//formData.append("username", "Groucho");
		//formData.append("accountnum", 123456); // number 123456 is immediately converted to a string "123456"

		// HTML file input, chosen by user
		formData.append("file", fileInput.files[0]);

		// JavaScript file-like object
		//var content = '<a id="a"><b id="b">hey!</b></a>'; // the body of the new file...
		//var blob = new Blob([content], { type: "text/xml"});

		//formData.append("webmasterfile", blob);

		var request = new XMLHttpRequest();
		request.open("POST", "/gallery");
		request.send(formData);
	}
</script>
<body>
	<form enctype="multipart/form-data" action="gallery" method="post" onsubmit="return onSubmit()">
		<input id="fileInput" type="file" name="file" />
		<input type="submit" />
	</form>
</body>
</html>
